{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Products</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<div class="top-bar">
    <div class="left-links">
        <a href="{% url 'product_list' %}">ğŸ  Home</a>
        <a href="{% url 'view_cart' %}">ğŸ›’ Cart</a>
        <a href="{% url 'checkout' %}">ğŸ’³ Checkout</a>
    </div>

    <div class="right-links">
        {% if user.is_authenticated %}
            <span class="welcome">ğŸ‘‹ Welcome, {{ user.username }}</span>
            <a href="{% url 'logout' %}">ğŸšª Logout</a>
        {% else %}
            <a href="{% url 'login' %}">ğŸ” Login</a>
        {% endif %}
    </div>
</div>

<h1>ğŸ›ï¸ PRODUCTS</h1>

<!-- Search Bar -->
<div class="search-container">
    <form method="GET">
        <input type="text" name="q" placeholder="ğŸ” Search products..." value="{{ request.GET.q }}">
        <button type="submit">Search</button>
    </form>
</div>

<div class="container">
{% for product in products %}
    <div class="card">
        <h3>{{ product.name }}</h3>

        {% if product.image %}
            <img src="{{ product.image.url }}" class="product-img">
        {% endif %}

        <p class="price">PRICE: â‚¹{{ product.price }}</p>

        <div class="buttons">
            <a href="{% url 'product_detail' product.id %}">ğŸ‘ View</a>
            <a href="{% url 'add_to_cart' product.id %}">â• Add to Cart</a>
        </div>
    </div>
{% empty %}
    <p>No products found.</p>
{% endfor %}
</div>

</body>
</html>
